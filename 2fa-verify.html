<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSRP | 2FA Verify</title>
    <style>
        body, html { height: 100%; margin: 0; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; align-items: center; }
        .bg-blur { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background-image: url('https://cdn.discordapp.com/attachments/1423737735159484537/1462698389459439687/Screenshot_2026-01-19_at_1.40.06_AM.png?ex=6973c0c7&is=69726f47&hm=c6190bbb0efec04d0d16cf86db54ce4a5822e8f0936a68f9f8d8f66f1076b030&'); background-size: cover; background-position: center; filter: blur(10px); transform: scale(1.1); }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.3); z-index: 0; }
        .verify-card { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); width: 100%; max-width: 350px; text-align: center; position: relative; z-index: 1; }
        input { width: 100%; padding: 12px; margin: 20px 0; border: 1px solid #ddd; border-radius: 8px; font-size: 1.2rem; text-align: center; letter-spacing: 3px; }
        .btn { background: #007bff; color: white; border: none; padding: 12px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
<div class="bg-blur"></div>
<div class="overlay"></div>
<div class="verify-card">
    <h2>2FA Required</h2>
    <p>Enter the 6-digit code from your app.</p>
    <input type="text" id="token" placeholder="000000" maxlength="6">
    <button class="btn" onclick="verify()">Verify</button>
</div>
<script>
    async function verify() {
        const token = document.getElementById('token').value;
        const res = await fetch('/api/login/2fa-verify', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ token })
        });
        if (res.ok) window.location.href = '/dashboard';
        else alert("Invalid code.");
    }
</script>
</body>
</html>
