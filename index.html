<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSRP | Welcome</title>
    <style>
        :root {
            --primary-purple: #60068f;
            --glass: rgba(255, 255, 255, 0.05);
            --sidebar-bg: #0f0f0f;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', system-ui, sans-serif; }

        body {
            background: #0a0a0a;
            color: #ffffff;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Top Nav for Auth Buttons */
        .top-nav {
            position: absolute;
            top: 0;
            right: 0;
            padding: 25px 40px;
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 10;
        }

        .top-nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 8px;
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: 0.3s;
        }

        .top-nav a:hover {
            background: var(--primary-purple);
            transform: translateY(-2px);
        }

        /* Sidebar Styling */
        .sidebar {
            width: 280px;
            background: var(--sidebar-bg);
            border-right: 1px solid #222;
            display: flex;
            flex-direction: column;
            padding: 40px 25px;
        }

        .sidebar h2 { 
            margin-bottom: 40px; 
            font-size: 1.4rem; 
            color: var(--primary-purple);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .sidebar-btn {
            background: none;
            border: none;
            color: #888;
            text-align: left;
            padding: 14px 18px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.2s;
            border-radius: 10px;
            margin-bottom: 8px;
        }

        .sidebar-btn.active { background: var(--primary-purple); color: white; }
        .sidebar-btn:hover:not(.active) { background: rgba(255, 255, 255, 0.05); color: white; }

        /* Main Content Area */
        .content {
            flex-grow: 1;
            padding: 120px 80px;
            overflow-y: auto;
            background: radial-gradient(circle at top right, #1a1a1a, #0a0a0a);
        }

        .tab-content { display: none; max-width: 900px; opacity: 0; }
        .tab-content.active { display: block; animation: slideUp 0.6s forwards; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 { font-size: 3.5rem; margin-bottom: 25px; font-weight: 800; }
        p { font-size: 1.15rem; color: #b0b0b0; line-height: 1.8; }

        /* Blog Card Styling */
        .blog-card {
            background: var(--glass);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .blog-date { color: var(--primary-purple); font-weight: 700; margin-bottom: 5px; }

        /* Founders & Credits List Styling */
        .list-container { display: flex; flex-direction: column; gap: 12px; margin-top: 20px; }

        .list-item {
            background: var(--glass);
            padding: 18px 25px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            width: fit-content;
            min-width: 450px;
            transition: 0.3s ease;
        }

        .list-item:hover {
            transform: translateX(8px);
            background: rgba(96, 6, 143, 0.08);
            border-color: rgba(96, 6, 143, 0.3);
        }

        .item-main { font-weight: 700; font-size: 1.1rem; color: #ffffff; }

        .item-divider {
            margin: 0 20px;
            color: var(--primary-purple);
            font-weight: 900;
            font-size: 1.2rem;
        }

        .item-sub {
            color: var(--primary-purple);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>

    <nav class="top-nav" id="auth-nav">
        <a href="/login">Login</a>
        <a href="/register">Register</a>
    </nav>

    <div class="sidebar">
        <h2>MSRP OFFICIAL SITE</h2>
        <button class="sidebar-btn active" onclick="showTab('home', this)">Home</button>
        <button class="sidebar-btn" onclick="showTab('about', this)">About Us</button>
        <button class="sidebar-btn" onclick="showTab('blog', this)">Blog Updates</button>
        <button class="sidebar-btn" onclick="showTab('founders', this)">Founders</button>
        <button class="sidebar-btn" onclick="showTab('credits', this)">Credits</button>
    </div>

    <div class="content">
        <div id="home" class="tab-content active">
            <h1 id="welcome-title">Welcome to MSRP</h1>
            <p>Access our secure staff portal to manage your profile, view department documents, and track community milestones.</p>
        </div>

        <div id="about" class="tab-content">
            <h1>About Us</h1>
            <p>Minnesota State Roleplay (MSRP) stands as a testament to what a dedicated community can achieve through a commitment to high-quality, immersive storytelling. Our roleplay standards are second to none, providing a realistic yet engaging environment where every interaction feels meaningful and professional. This standard of excellence is maintained by a staff team that is truly exceptional at their jobs; they work tirelessly behind the scenes to ensure fairness, safety, and a seamless experience for every player. Reaching the milestone of 6,000 members has been a long and incredibly fun journey, marked by countless memorable moments and the steady growth of a passionate community. We are incredibly proud of the culture we have built together and remain dedicated to pushing the boundaries of what a premier roleplay community can be.</p>

        <div id="blog" class="tab-content">
            <h1>Latest Updates</h1>
            <div class="blog-card">
                <div class="blog-date">JAN 30, 2026</div>
                <h3> Server Milestone</h3>
                <p>We've successfully reached the milestone of 6,000 members within our Discord server. This is the biggest milestones we have ever hit and we would not have been able to do it without you.</p>
            </div>

            <div class="blog-card">
                <div class="blog-date">JAN 30, 2026</div>
                <h3>Portal 2.0 Live</h3>
                <p>Login system, session management, and UI layouts have been fully optimized.</p>
            </div>
        </div>

        <div id="founders" class="tab-content">
            <h1>Our Founders</h1>
            <p style="margin-bottom: 30px;">The visionary leadership team behind the MSRP community, dedicated to creating a professional and immersive experience for all members.</p>
            
            <div class="list-container">
                <div class="list-item">
                    <span class="item-main">lil_kai287</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">Founder</span>
                </div>
                <div class="list-item">
                    <span class="item-main">Mercy</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">Co-Founder</span>
                </div>
                <div class="list-item">
                    <span class="item-main">Hey_clay</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">Assistant Founder</span>
                </div>
                <div class="list-item">
                    <span class="item-main">Rthecool20</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">Assistant Founder</span>
                </div>
                 <div class="list-item">
                    <span class="item-main">Kyler</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">Minnesota Official</span>
                </div>
                <div class="list-item">
                    <span class="item-main">Library</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">Minnesota Official</span>
                </div>
                <div class="list-item">
                    <span class="item-main">thegotgamer</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">Minnesota Official</span>
                </div>
            </div>
        </div>

        <div id="credits" class="tab-content">
            <h1>Technical Credits</h1>
            <p style="margin-bottom: 30px;">Recognition of the developers and contributors who built and maintain the MSRP infrastructure and web portal.</p>
            
            <div class="list-container">
                <div class="list-item">
                    <span class="item-main">cool_bro2171</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">Lead Developer</span>
                </div>
                <div class="list-item">
                    <span class="item-main">MSRP Development Team</span>
                    <span class="item-divider">|</span>
                    <span class="item-sub">System Maintenance</span>
                </div>
            </div>
        </div>
    </div>

    <script>
// FAST-AUTH: Recognize logged in users immediately
(async function init() {
    try {
        // Updated to use the correct API endpoint from your server.js
        const res = await fetch('/api/user-info', {
            method: 'GET',
            credentials: 'include' // Important for sending session cookies
        });

        if (res.ok) {
            const data = await res.json();
            
            // Update the Top Navigation
            const authNav = document.getElementById('auth-nav');
            authNav.innerHTML = `
                <span style="color: #888; margin-right: 15px; font-weight: 500;">User: ${data.username}</span>
                <a href="/dashboard" style="background: var(--primary-purple); border-color: var(--primary-purple);">Go to Dashboard</a>
                <a href="/logout" style="font-size: 0.85rem; background: rgba(255,0,0,0.1); border: 1px solid rgba(255,0,0,0.2); color: #ff4444;">Logout</a>
            `;

            // Update the Home Tab Content
            const welcomeTitle = document.getElementById('welcome-title');
            if (welcomeTitle) {
                welcomeTitle.innerText = `Welcome back, ${data.username}`;
            }
        }
    } catch (e) { 
        console.log("Guest Session Active"); 
    }
})();

// TAB SWITCHING LOGIC
function showTab(tabId, btn) {
    document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.sidebar-btn').forEach(b => b.classList.remove('active'));
    
    const targetTab = document.getElementById(tabId);
    if (targetTab) {
        targetTab.classList.add('active');
        btn.classList.add('active');
    }
}
    </script>
</body>
</html>










